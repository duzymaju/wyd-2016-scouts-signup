{% macro nextStepsBox() %}
    <h1>{{ 'next_steps.title'|trans }}:</h1>
    <div class="btn-group-vertical btn-group-lg">
        <a href="{{ path('registration_volunteer_form') }}" class="btn btn-default">
            {{ 'next_steps.register_volunteer'|trans }}
        </a>
        <a href="{{ path('registration_troop_form') }}" class="btn btn-default">
            {{ 'next_steps.register_troop'|trans }}
        </a>
        <a href="{{ path('registration_pilgrim_form') }}" class="btn btn-default">
            {{ 'next_steps.register_pilgrim'|trans }}
        </a>
        <a href="{{ path('registration_group_form') }}" class="btn btn-default">
            {{ 'next_steps.register_group'|trans }}
        </a>
        <a href="{{ main_page_url }}" target="_blank" class="btn btn-default">
            {{ 'next_steps.volunteers_page'|trans }}
        </a>
        <a href="{{ wyd_page_url }}{{ app.request.locale != 'pl' ? '/' ~ app.request.locale : '' }}"
            target="_blank" class="btn btn-default">
            {{ 'next_steps.official_page'|trans }}
        </a>
    </div>
{% endmacro %}

{% macro flashBagMessages(type = 'message', translate = false) %}
    {{ _self.messages(app.session.flashbag.get(type), type, translate) }}
{% endmacro %}

{% macro messages(messages, type = 'message', translate = false) %}
    {% if messages is defined and messages|length > 0 %}
        {% for message in messages %}
            <div class="alert alert-{{ type == 'message' ? 'info' : (type == 'error' ? 'danger' : type) }}">
                {{ translate ? message|trans : message }}
            </div>
        {% endfor %}
    {% endif %}
{% endmacro %}

{% macro formCheckboxRow(element) %}
    <div class="form-group form-checkbox">
        {{ form_widget(element) }}
        {{ form_label(element) }}
        {{ form_errors(element) }}
    </div>
{% endmacro %}

{% macro formRow(element, options = {}) %}
    <div class="form-group{% if options.info is defined %} form-info{% endif %}"
        {% if options.locale is defined %} data-specific-locale="{{ options.locale }}"{% endif %}>
        {{ form_label(element) }}
        {% if options.date is defined %}
            <div class="input-group date">
                <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                {{ form_widget(element, {attr: {class: 'span2 form-control', size: 16, readonly: 'readonly'}}) }}
            </div>
        {% else %}
            {{ form_widget(element, {attr: {class: 'form-control'}}) }}
        {% endif %}
        {% if options.info is defined %}{{ _self.formInfo(options.info) }}{% endif %}
        {{ form_errors(element) }}
    </div>
{% endmacro %}

{% macro groupMember(member, no = 1, leaderData = null) %}
    <div class="col-sm-6 member">
        <h2>{{ leaderData and leaderData is same as (member.vars.data) ? 'group.form.leader'|trans : 'group.form.member'|trans({'%no%': no}) }}</h2>
        {{ _self.formRow(member.firstName) }}
        {{ _self.formRow(member.lastName) }}
        {{ _self.formRow(member.address) }}
        {{ _self.formRow(member.phone) }}
        {{ _self.formRow(member.email) }}
        {{ _self.formRow(member.birthDate, {date: true}) }}
    </div>
{% endmacro %}

{% macro troopMember(member, no = 1, leaderData = null) %}
    <div class="col-sm-6 member">
        <h2>{{ leaderData and leaderData is same as (member.vars.data) ? 'troop.form.leader'|trans : 'troop.form.member'|trans({'%no%': no}) }}</h2>
        {{ _self.formRow(member.firstName) }}
        {{ _self.formRow(member.lastName) }}
        {{ _self.formRow(member.address) }}
        {{ _self.formRow(member.phone) }}
        {{ _self.formRow(member.email) }}
        {{ _self.formRow(member.birthDate, {locale: '', date: true}) }}
        {{ _self.formRow(member.pesel, {locale: 'PL'}) }}
        {{ _self.formRow(member.gradeId, {locale: 'PL'}) }}
    </div>
{% endmacro %}

{% macro formInfo(text, tooltipPlacement = 'left') %}
    <div class="info" data-toggle="tooltip" data-placement="{{ tooltipPlacement }}" title="{{ text }}"></div>
{% endmacro %}
